---
title: 【动态规划-最大连续子序列】HDU 1003 Max Sum
comments: true
mathjax: true
toc: true
tocnumber: true
tags:
  - OJ
  - hdu
  - 动态规划
categories:
  - 编程开发
  - OJ刷题
abbrlink: a996c21e
date: 2019-01-26 14:35:54
---

> 求一段数列的最大连续子序列和，然后让你输出三个数字，
>
> 分别是该段数列的最大连续子序列和的值，最大连续子序列第一个数的下标（下标从1开始），最大连续子序列最后一个数的下标。

<!-- more -->

​         

- 题目地址：http://acm.hdu.edu.cn/showproblem.php?pid=1003

​         

## 思路

把数列第一个数存入dp[0].

状态转移方程，max( dp[i-1] + a[i] , a[i] )



## AC代码

```c++
#include <iostream>
#include <cstdio>
#include <string>
#include <cstring>
using namespace std;

int a[100005];
int dp[100005];

int main(){
    int T;
    scanf("%d", &T);
    while(T--){
        int n;
        scanf("%d", &n);
        for (int i = 0; i < n; i++){
            scanf("%d", &a[i]);
        }
        dp[0] = a[0];
        int start = 0, end = 0, max = -1001;
        int first = 0, last = 0;
        for (int i = 0; i < n; i++){
            if(dp[i-1]+a[i]>=a[i]){
                dp[i] = dp[i - 1] + a[i];
                end = i;
            } else{
                dp[i] = a[i];
                start = end = i;
            }
            if(max<dp[i]){
                max = dp[i];
                first = start;
                last = end;
            }
        }
        printf("Case %d:\n%d %d %d\n", ++i, max, first+1, last+1);
        if(T!=0){
            printf("\n");
        }
    }
    return 0;
}
```

