---
title: 【动态规划-多重背包】HDU 2844 Coins
comments: true
mathjax: true
toc: true
tags:
  - OJ
  - hdu
  - 动态规划
categories: OJ
abbrlink: dab6998b
date: 2019-01-25 22:47:43
---

> n种硬币，每个硬币的值ai，有ci个，求能组成多少个不大于m的不同的金额。

<!-- more -->

​         

- 题目地址：http://acm.hdu.edu.cn/showproblem.php?pid=2844

​         

## 思路

典型的多重背包



## AC代码

```c++
#include <iostream>
#include <cstdio>
#include <cstring>
#include <string>
using namespace std;

const int MAXN = 100005;
const int MAXM = 105;

int dp[MAXN]; //表示当前价值是否可以达到（0不可达，1可达）
int a[MAXM]; //value
int c[MAXM]; //num
int cnt[MAXN]; //表示达到j状态i物品的使用次数

int main(){
    int n, m;
    while(scanf("%d%d",&n,&m)!=EOF){
        if(n==0 && m==0) //m可能为负数
            break;
        int ans = 0;
        memset(dp, 0, sizeof(dp));
        dp[0] = 1;
        for (int i = 0; i < n; i++)
            scanf("%d", a + i);
        for (int i = 0; i < n; i++)
            scanf("%d", c + i);
        for (int i = 0; i < n; i++){
            memset(cnt, 0, sizeof(cnt));
            for (int j = a[i]; j <= m; j++){
                if(dp[j-a[i]]==1 && dp[j]==0 && cnt[j-a[i]]<c[i]){
                    cnt[j] = cnt[j - a[i]] + 1;
                    dp[j] = 1;
                    ans++;
                }
            }
        }
        printf("%d\n", ans);
    }
    return 0;
}
```

